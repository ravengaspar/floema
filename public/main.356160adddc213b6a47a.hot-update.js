/*! For license information please see main.356160adddc213b6a47a.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/classes/Detection.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const n=new class{isPhone(){this.isPhoneChecked||(this.isPhoneChecked=!0,this.isPhoneChecked=document.documentElement.classList.contains("phone"))}isTabet(){this.isTabletChecked||(this.isTabletChecked=!0,this.isTabletChecked=document.documentElement.classList.contains("tablet"))}isDesktop(){this.isDesktopChecked||(this.isDesktopChecked=!0,this.isDesktopChecked=document.documentElement.classList.contains("desktop"))}}},"./app/index.js":(e,t,s)=>{s.r(t);var n=s("./app/pages/About/index.js"),a=s("./app/pages/Collections/index.js"),i=s("./app/pages/Detail/index.js"),o=s("./app/pages/Home/index.js"),h=s("./node_modules/normalize-wheel/index.js"),d=s("./node_modules/lodash/each.js"),c=(s("./app/classes/Detection.js"),s("./app/components/Canvas/index.js")),p=s("./app/components/Preloader.js"),l=s("./app/components/Navigation.js"),r=s("./node_modules/console-browserify/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addEventListeners(),this.addLinkListeners(),this.onResize(),this.update()}createNavigation(){this.navigation=new l.default({template:this.template})}createPreloader(){this.preloader=new p.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new c.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new n.default,collections:new a.default,detail:new i.default,home:new o.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e,push:t=!0}){this.canvas.onChangeStart(this.template,e),await this.page.hide();const s=await window.fetch(e);if(200===s.status){const n=await s.text(),a=document.createElement("div");a.innerHTML=n,t&&window.history.pushState({},"",e);const i=a.querySelector(".content");this.template=i.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=i.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else r.log("Error",error)}onResize(){this.page&&this.page.onResize&&this.page.onResize(),window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()}))}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=h(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");d(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange({url:s})}}))}addEventListeners(){window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}}}},(function(e){e.h=()=>"943573d2395cb197849a"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSzhDLFNBQVMsQ0FBRUMsSUFBS3dDLEdBQXJCLENBSEQsR0FNRCxDQUVEdkUsb0JBQ0NnQyxPQUFPd0MsaUJBQWlCLFdBQVl4RixLQUFLNkMsV0FBV2pCLEtBQUs1QixPQUV6RGdELE9BQU93QyxpQkFBaUIsYUFBY3hGLEtBQUs0RSxRQUFRaEQsS0FBSzVCLE9BRXhEZ0QsT0FBT3dDLGlCQUFpQixZQUFheEYsS0FBS3dFLFlBQVk1QyxLQUFLNUIsT0FDM0RnRCxPQUFPd0MsaUJBQWlCLFlBQWF4RixLQUFLMEUsWUFBWTlDLEtBQUs1QixPQUMzRGdELE9BQU93QyxpQkFBaUIsVUFBV3hGLEtBQUsyRSxVQUFVL0MsS0FBSzVCLE9BRXZEZ0QsT0FBT3dDLGlCQUFpQixhQUFjeEYsS0FBS3dFLFlBQVk1QyxLQUFLNUIsT0FDNURnRCxPQUFPd0MsaUJBQWlCLFlBQWF4RixLQUFLMEUsWUFBWTlDLEtBQUs1QixPQUMzRGdELE9BQU93QyxpQkFBaUIsV0FBWXhGLEtBQUsyRSxVQUFVL0MsS0FBSzVCLE9BRXhEZ0QsT0FBT3dDLGlCQUFpQixTQUFVeEYsS0FBS2tCLFNBQVNVLEtBQUs1QixNQUNyRCxrQkNwTUZ5RixFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NsYXNzZXMvRGV0ZWN0aW9uLmpzIiwid2VicGFjazovL2Zsb2VtYS8uL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIERldGVjdGlvbiB7XG5cdGlzUGhvbmUoKSB7XG5cdFx0aWYgKCF0aGlzLmlzUGhvbmVDaGVja2VkKSB7XG5cdFx0XHR0aGlzLmlzUGhvbmVDaGVja2VkID0gdHJ1ZVxuXG5cdFx0XHR0aGlzLmlzUGhvbmVDaGVja2VkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncGhvbmUnKVxuXHRcdH1cblx0fVxuXG5cdGlzVGFiZXQoKSB7XG5cdFx0aWYgKCF0aGlzLmlzVGFibGV0Q2hlY2tlZCkge1xuXHRcdFx0dGhpcy5pc1RhYmxldENoZWNrZWQgPSB0cnVlXG5cblx0XHRcdHRoaXMuaXNUYWJsZXRDaGVja2VkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygndGFibGV0Jylcblx0XHR9XG5cdH1cblxuXHRpc0Rlc2t0b3AoKSB7XG5cdFx0aWYgKCF0aGlzLmlzRGVza3RvcENoZWNrZWQpIHtcblx0XHRcdHRoaXMuaXNEZXNrdG9wQ2hlY2tlZCA9IHRydWVcblxuXHRcdFx0dGhpcy5pc0Rlc2t0b3BDaGVja2VkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGVza3RvcCcpXG5cdFx0fVxuXHR9XG59XG5cbmNvbnN0IERldGVjdGlvbk1hbmFnZXIgPSBuZXcgRGV0ZWN0aW9uKClcblxuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0aW9uTWFuYWdlclxuIiwiaW1wb3J0IEFib3V0IGZyb20gJ3BhZ2VzL0Fib3V0L2luZGV4LmpzJ1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gJ3BhZ2VzL0NvbGxlY3Rpb25zL2luZGV4LmpzJ1xuaW1wb3J0IERldGFpbCBmcm9tICdwYWdlcy9EZXRhaWwvaW5kZXguanMnXG5pbXBvcnQgSG9tZSBmcm9tICdwYWdlcy9Ib21lL2luZGV4LmpzJ1xuXG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnXG5cbmltcG9ydCBEZXRlY3Rpb25NYW5hZ2VyIGZyb20gJy4vY2xhc3Nlcy9EZXRlY3Rpb24nXG5pbXBvcnQgQ2FudmFzIGZyb20gJ2NvbXBvbmVudHMvQ2FudmFzLydcblxuaW1wb3J0IFByZWxvYWRlciBmcm9tICdjb21wb25lbnRzL1ByZWxvYWRlcidcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJ2NvbXBvbmVudHMvTmF2aWdhdGlvbidcblxuY2xhc3MgQXBwIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5jcmVhdGVDb250ZW50KClcblxuXHRcdHRoaXMuY3JlYXRlQ2FudmFzKClcblxuXHRcdHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcblx0XHR0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKVxuXG5cdFx0dGhpcy5jcmVhdGVQYWdlcygpXG5cblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcblx0XHR0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxuXG5cdFx0dGhpcy5vblJlc2l6ZSgpXG5cblx0XHR0aGlzLnVwZGF0ZSgpXG5cdH1cblxuXHRjcmVhdGVOYXZpZ2F0aW9uKCkge1xuXHRcdHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKHtcblx0XHRcdHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLFxuXHRcdH0pXG5cdH1cblxuXHRjcmVhdGVQcmVsb2FkZXIoKSB7XG5cdFx0dGhpcy5wcmVsb2FkZXIgPSBuZXcgUHJlbG9hZGVyKHtcblx0XHRcdGNhbnZhczogdGhpcy5jYW52YXMsXG5cdFx0fSlcblx0XHR0aGlzLnByZWxvYWRlci5vbmNlKCdjb21wbGV0ZWQnLCB0aGlzLm9uUHJlbG9hZGVkLmJpbmQodGhpcykpXG5cdH1cblxuXHRjcmVhdGVDYW52YXMoKSB7XG5cdFx0dGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKHtcblx0XHRcdHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLFxuXHRcdH0pXG5cdH1cblxuXHRjcmVhdGVDb250ZW50KCkge1xuXHRcdHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jylcblx0XHR0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cdH1cblxuXHRjcmVhdGVQYWdlcygpIHtcblx0XHR0aGlzLnBhZ2VzID0ge1xuXHRcdFx0YWJvdXQ6IG5ldyBBYm91dCgpLFxuXHRcdFx0Y29sbGVjdGlvbnM6IG5ldyBDb2xsZWN0aW9ucygpLFxuXHRcdFx0ZGV0YWlsOiBuZXcgRGV0YWlsKCksXG5cdFx0XHRob21lOiBuZXcgSG9tZSgpLFxuXHRcdH1cblxuXHRcdHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cblx0XHR0aGlzLnBhZ2UuY3JlYXRlKClcblx0fVxuXG5cdG9uUHJlbG9hZGVkKCkge1xuXHRcdHRoaXMub25SZXNpemUoKVxuXG5cdFx0dGhpcy5jYW52YXMub25QcmVsb2FkZWQoKVxuXG5cdFx0dGhpcy5wYWdlLnNob3coKVxuXHR9XG5cblx0b25Qb3BTdGF0ZSgpIHtcblx0XHR0aGlzLm9uQ2hhbmdlKHtcblx0XHRcdHVybDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuXHRcdFx0cHVzaDogZmFsc2UsXG5cdFx0fSlcblx0fVxuXG5cdGFzeW5jIG9uQ2hhbmdlKHsgdXJsLCBwdXNoID0gdHJ1ZSB9KSB7XG5cdFx0dGhpcy5jYW52YXMub25DaGFuZ2VTdGFydCh0aGlzLnRlbXBsYXRlLCB1cmwpXG5cblx0XHRhd2FpdCB0aGlzLnBhZ2UuaGlkZSgpXG5cblx0XHRjb25zdCByZXF1ZXN0ID0gYXdhaXQgd2luZG93LmZldGNoKHVybClcblxuXHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRjb25zdCBodG1sID0gYXdhaXQgcmVxdWVzdC50ZXh0KClcblx0XHRcdGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cblx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sXG5cblx0XHRcdGlmIChwdXNoKSB7XG5cdFx0XHRcdHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybClcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGl2Q29udGVudCA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG5cblx0XHRcdHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cblx0XHRcdHRoaXMubmF2aWdhdGlvbi5vbkNoYW5nZSh0aGlzLnRlbXBsYXRlKVxuXG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSlcblx0XHRcdHRoaXMuY29udGVudC5pbm5lckhUTUwgPSBkaXZDb250ZW50LmlubmVySFRNTFxuXG5cdFx0XHR0aGlzLmNhbnZhcy5vbkNoYW5nZUVuZCh0aGlzLnRlbXBsYXRlKVxuXG5cdFx0XHR0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXG5cdFx0XHR0aGlzLnBhZ2UuY3JlYXRlKClcblxuXHRcdFx0dGhpcy5vblJlc2l6ZSgpXG5cblx0XHRcdHRoaXMucGFnZS5zaG93KClcblxuXHRcdFx0dGhpcy5hZGRMaW5rTGlzdGVuZXJzKClcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yJywgZXJyb3IpXG5cdFx0fVxuXHR9XG5cblx0b25SZXNpemUoKSB7XG5cdFx0aWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25SZXNpemUpIHtcblx0XHRcdHRoaXMucGFnZS5vblJlc2l6ZSgpXG5cdFx0fVxuXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfID0+IHtcblx0XHRcdGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSkgdGhpcy5jYW52YXMub25SZXNpemUoKVxuXHRcdH0pXG5cdH1cblxuXHRvblRvdWNoRG93bihldmVudCkge1xuXHRcdGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoRG93bikgdGhpcy5jYW52YXMub25Ub3VjaERvd24oZXZlbnQpXG5cdH1cblx0b25Ub3VjaE1vdmUoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUpIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKGV2ZW50KVxuXHR9XG5cdG9uVG91Y2hVcChldmVudCkge1xuXHRcdGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoVXApIHRoaXMuY2FudmFzLm9uVG91Y2hVcChldmVudClcblx0fVxuXHRvbldoZWVsKGV2ZW50KSB7XG5cdFx0Y29uc3Qgbm9ybWFsaXplZFdoZWVsID0gTm9ybWFsaXplV2hlZWwoZXZlbnQpXG5cblx0XHRpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25XaGVlbCkge1xuXHRcdFx0dGhpcy5jYW52YXMub25XaGVlbChub3JtYWxpemVkV2hlZWwpXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25XaGVlbCkge1xuXHRcdFx0dGhpcy5wYWdlLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKVxuXHRcdH1cblx0fVxuXG5cdC8qIExvb3AgKi9cblx0dXBkYXRlKCkge1xuXHRcdGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLnVwZGF0ZSkge1xuXHRcdFx0dGhpcy5wYWdlLnVwZGF0ZSgpXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnVwZGF0ZSkge1xuXHRcdFx0dGhpcy5jYW52YXMudXBkYXRlKHRoaXMucGFnZS5zY3JvbGwpXG5cdFx0fVxuXG5cdFx0dGhpcy5mcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUuYmluZCh0aGlzKSlcblx0fVxuXG5cdC8qIExpc3RlbmVycyAqL1xuXHRhZGRMaW5rTGlzdGVuZXJzKCkge1xuXHRcdGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpXG5cblx0XHRlYWNoKGxpbmtzLCBsaW5rID0+IHtcblx0XHRcdGxpbmsub25jbGljayA9IGV2ZW50ID0+IHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XHRjb25zdCB7IGhyZWYgfSA9IGxpbmtcblx0XHRcdFx0dGhpcy5vbkNoYW5nZSh7IHVybDogaHJlZiB9KVxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblxuXHRhZGRFdmVudExpc3RlbmVycygpIHtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCB0aGlzLm9uUG9wU3RhdGUuYmluZCh0aGlzKSlcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpXG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSlcblx0fVxufVxuXG5uZXcgQXBwKClcbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjk0MzU3M2QyMzk1Y2IxOTc4NDlhXCIpIl0sIm5hbWVzIjpbImlzUGhvbmUiLCJ0aGlzIiwiaXNQaG9uZUNoZWNrZWQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaXNUYWJldCIsImlzVGFibGV0Q2hlY2tlZCIsImlzRGVza3RvcCIsImlzRGVza3RvcENoZWNrZWQiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVDYW52YXMiLCJjcmVhdGVQcmVsb2FkZXIiLCJjcmVhdGVOYXZpZ2F0aW9uIiwiY3JlYXRlUGFnZXMiLCJhZGRFdmVudExpc3RlbmVycyIsImFkZExpbmtMaXN0ZW5lcnMiLCJvblJlc2l6ZSIsInVwZGF0ZSIsIm5hdmlnYXRpb24iLCJOYXZpZ2F0aW9uIiwidGVtcGxhdGUiLCJwcmVsb2FkZXIiLCJQcmVsb2FkZXIiLCJjYW52YXMiLCJvbmNlIiwib25QcmVsb2FkZWQiLCJiaW5kIiwiQ2FudmFzIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb25zIiwiZGV0YWlsIiwiRGV0YWlsIiwiaG9tZSIsIkhvbWUiLCJwYWdlIiwiY3JlYXRlIiwic2hvdyIsIm9uUG9wU3RhdGUiLCJvbkNoYW5nZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwdXNoIiwib25DaGFuZ2VTdGFydCIsImhpZGUiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIm9uQ2hhbmdlRW5kIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiXyIsIm9uVG91Y2hEb3duIiwiZXZlbnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJub3JtYWxpemVkV2hlZWwiLCJOb3JtYWxpemVXaGVlbCIsInNjcm9sbCIsImZyYW1lIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWFjaCIsImxpbmsiLCJvbmNsaWNrIiwicHJldmVudERlZmF1bHQiLCJocmVmIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==