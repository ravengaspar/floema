/*! For license information please see main.c90871893d57476eb119.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateimmersive_website("main",{"./app/classes/Component.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./node_modules/events/events.js"),l=s("./node_modules/lodash/each.js");class i extends n{constructor({element:e,elements:t}){super(),this.selector=e,this.selectorChildren={...t},this.create(),this.addEventListeners()}create(){this.element=document.querySelector(this.selector),this.elements={},l(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=document.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(this.elements[t]=document.querySelector(e)))}))}addEventListeners(){}removeEventListeners(){}}},"./app/components/Preloader.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var n=s("./app/classes/Component.js"),l=s("./node_modules/lodash/each.js"),i=s("./node_modules/gsap/index.js"),o=s("./app/utils/text.js");class r extends n.default{constructor(){super({element:".preloader",elements:{title:".preloader__text",number:".preloader__number__text",images:document.querySelectorAll("img")}}),this.elements.titleSpans=(0,o.split)({element:this.elements.title,expression:"<br>"}),this.length=0,this.createLoader()}createLoader(){l(this.elements.images,(e=>{e.onload=t=>this.onAssetLoaded(e),e.src=e.getAttribute("data-src")}))}onAssetLoaded(e){this.length+=1;const t=this.length/this.elements.images.length;this.elements.number.innerHTML=`${Math.round(100*t)}%`,1===t&&this.onLoaded()}onLoaded(){return new Promise((e=>{this.animateOut=i.default.timeline({delay:20}),this.animateOut.to(this.elements.titleSpans,{autoAlpha:0,stagger:.1,y:-10}),this.animateOut.to(this.element,{autoAlpha:0}),this.animateOut.call((e=>{this.emit("completed")}))}))}destroy(){this.element.parentNode.removeChild(this.element)}}},"./app/utils/text.js":(e,t,s)=>{s.r(t),s.d(t,{calculate:()=>i,split:()=>l});var n=s("./node_modules/lodash/each.js");function l({element:e,expression:t=" ",append:s=!0}){const l=function(e,t){const s=e.split("<br>");let l=[];return n(s,((e,s)=>{s>0&&l.push("<br>"),l=l.concat(e.split(t));let i=!1,o="";const r=[];n(l,(e=>{i||!e.includes("<a")&&!e.includes("<strong")||(o="",i=!0),i&&(o+=` ${e}`),i&&(e.includes("/a>")||e.includes("/strong>"))&&(r.push(o),o=""),i||""!==o||r.push(e),i&&(e.includes("/a>")||e.includes("/strong>"))&&(i=!1)})),l=r})),l}(e.innerHTML.toString().trim(),t);let i="";n(l,(e=>{if(e.indexOf("<br>")>-1){const t=e.split("<br>");n(t,((e,t)=>{i+=t>0?"<br>"+o(e):o(e)}))}else i+=o(e)})),e.innerHTML=i;const r=e.querySelectorAll("span");return s&&n(r,(e=>{const t=1===e.textContent.length,s=""!==e.innerHTML.trim(),n="&"!==e.textContent,l="-"!==e.textContent;t&&s&&n&&l&&(e.innerHTML=`${e.textContent}&nbsp;`)})),r}function i(e){if(!e.length)return;const t=[];let s=[],l=e[0].offsetTop;return n(e,((n,i)=>{n.offsetTop===l&&s.push(n),n.offsetTop!==l&&(t.push(s),s=[],s.push(n),l=n.offsetTop),i+1===e.length&&t.push(s)})),t}function o(e){return""===(e=e.trim())||" "===e?e:"<br>"===e?"<br>":`<span>${e}</span>`+(e.length>1?" ":"")}}},(function(e){e.h=()=>"9c6770300df123f56e0d"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxFQUFLK0QsR0FBTyxDQUFDQyxFQUFNZixLQUNiZSxFQUFLUSxZQUFjRCxHQUNyQjFCLEVBQU1LLEtBQUtjLEdBR1RBLEVBQUtRLFlBQWNELElBQ3JCVixFQUFNWCxLQUFLTCxHQUVYQSxFQUFRLEdBQ1JBLEVBQU1LLEtBQUtjLEdBRVhPLEVBQVdQLEVBQUtRLFdBR2R2QixFQUFRLElBQU1jLEVBQU10RCxRQUN0Qm9ELEVBQU1YLEtBQUtMLEVBQ1osSUFHSWdCLENBQ1IsQ0FtREQsU0FBU0MsRUFBVUgsR0FHakIsTUFBYSxNQUZiQSxFQUFPQSxFQUFLRCxTQUVnQixNQUFUQyxFQUNWQSxFQUVTLFNBQVRBLEVBQ0gsT0FDQyxTQUFRQSxZQUFpQkEsRUFBS2xELE9BQVMsRUFBSSxJQUFNLEdBRXpELGlCQzVJRGdFLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbW1lcnNpdmUtd2Vic2l0ZS8uL2FwcC9jbGFzc2VzL0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9pbW1lcnNpdmUtd2Vic2l0ZS8uL2FwcC9jb21wb25lbnRzL1ByZWxvYWRlci5qcyIsIndlYnBhY2s6Ly9pbW1lcnNpdmUtd2Vic2l0ZS8uL2FwcC91dGlscy90ZXh0LmpzIiwid2VicGFjazovL2ltbWVyc2l2ZS13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudHNcIjtcbmltcG9ydCBlYWNoIGZyb20gXCJsb2Rhc2gvZWFjaFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGVsZW1lbnRzIH0pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2VsZWN0b3IgPSBlbGVtZW50O1xuICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHsgLi4uZWxlbWVudHMgfTtcbiAgICB0aGlzLmNyZWF0ZSgpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpO1xuICAgIHRoaXMuZWxlbWVudHMgPSB7fTtcblxuICAgIGVhY2godGhpcy5zZWxlY3RvckNoaWxkcmVuLCAoZW50cnksIGtleSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCB8fFxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fFxuICAgICAgICBBcnJheS5pc0FycmF5KGVudHJ5KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbnRyeSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7fVxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge31cbn1cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcImNsYXNzZXMvQ29tcG9uZW50XCI7XG5pbXBvcnQgZWFjaCBmcm9tIFwibG9kYXNoL2VhY2hcIjtcbmltcG9ydCBHU0FQIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgeyBzcGxpdCB9IGZyb20gXCJ1dGlscy90ZXh0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGVsZW1lbnQ6IFwiLnByZWxvYWRlclwiLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgdGl0bGU6IFwiLnByZWxvYWRlcl9fdGV4dFwiLFxuICAgICAgICBudW1iZXI6IFwiLnByZWxvYWRlcl9fbnVtYmVyX190ZXh0XCIsXG4gICAgICAgIGltYWdlczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnRzLnRpdGxlU3BhbnMgPSBzcGxpdCh7XG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnRzLnRpdGxlLFxuICAgICAgZXhwcmVzc2lvbjogXCI8YnI+XCIsXG4gICAgfSk7XG5cbiAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICB0aGlzLmNyZWF0ZUxvYWRlcigpO1xuICB9XG5cbiAgY3JlYXRlTG9hZGVyKCkge1xuICAgIGVhY2godGhpcy5lbGVtZW50cy5pbWFnZXMsIChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50Lm9ubG9hZCA9IChfKSA9PiB0aGlzLm9uQXNzZXRMb2FkZWQoZWxlbWVudCk7XG4gICAgICBlbGVtZW50LnNyYyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIik7XG4gICAgfSk7XG4gIH1cblxuICBvbkFzc2V0TG9hZGVkKGltYWdlKSB7XG4gICAgdGhpcy5sZW5ndGggKz0gMTtcblxuICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmxlbmd0aCAvIHRoaXMuZWxlbWVudHMuaW1hZ2VzLmxlbmd0aDtcbiAgICB0aGlzLmVsZW1lbnRzLm51bWJlci5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHBlcmNlbnQgKiAxMDApfSVgO1xuXG4gICAgaWYgKHBlcmNlbnQgPT09IDEpIHtcbiAgICAgIHRoaXMub25Mb2FkZWQoKTtcbiAgICB9XG4gIH1cblxuICBvbkxvYWRlZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuYW5pbWF0ZU91dCA9IEdTQVAudGltZWxpbmUoe1xuICAgICAgICBkZWxheTogMjAsXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5hbmltYXRlT3V0LnRvKHRoaXMuZWxlbWVudHMudGl0bGVTcGFucywge1xuICAgICAgICBhdXRvQWxwaGE6IDAsXG4gICAgICAgIHN0YWdnZXI6IDAuMSxcbiAgICAgICAgeTogLTEwLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYW5pbWF0ZU91dC50byh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYW5pbWF0ZU91dC5jYWxsKChfKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbXBsZXRlZFwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICB9XG59XG4iLCJpbXBvcnQgZWFjaCBmcm9tIFwibG9kYXNoL2VhY2hcIjtcblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHNwbGl0cyB0ZXh0IGludG8gc3BhbnNcbiAqIEBwYXJhbSB7c3RyaW5nIHx8IEhUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvblxuICogQHBhcmFtIHtib29sfSBhcHBlbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0KHsgZWxlbWVudCwgZXhwcmVzc2lvbiA9IFwiIFwiLCBhcHBlbmQgPSB0cnVlIH0pIHtcbiAgY29uc3Qgd29yZHMgPSBzcGxpdFRleHQoZWxlbWVudC5pbm5lckhUTUwudG9TdHJpbmcoKS50cmltKCksIGV4cHJlc3Npb24pO1xuXG4gIGxldCBpbm5lckhUTUwgPSBcIlwiO1xuXG4gIGVhY2god29yZHMsIChsaW5lKSA9PiB7XG4gICAgaWYgKGxpbmUuaW5kZXhPZihcIjxicj5cIikgPiAtMSkge1xuICAgICAgY29uc3QgbGluZXMgPSBsaW5lLnNwbGl0KFwiPGJyPlwiKTtcblxuICAgICAgZWFjaChsaW5lcywgKGxpbmUsIGluZGV4KSA9PiB7XG4gICAgICAgIGlubmVySFRNTCArPSBpbmRleCA+IDAgPyBcIjxicj5cIiArIHBhcnNlTGluZShsaW5lKSA6IHBhcnNlTGluZShsaW5lKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbm5lckhUTUwgKz0gcGFyc2VMaW5lKGxpbmUpO1xuICAgIH1cbiAgfSk7XG5cbiAgZWxlbWVudC5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG5cbiAgY29uc3Qgc3BhbnMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpO1xuXG4gIGlmIChhcHBlbmQpIHtcbiAgICBlYWNoKHNwYW5zLCAoc3BhbikgPT4ge1xuICAgICAgY29uc3QgaXNTaW5nbGVMZXR0ZXIgPSBzcGFuLnRleHRDb250ZW50Lmxlbmd0aCA9PT0gMTtcbiAgICAgIGNvbnN0IGlzTm90RW1wdHkgPSBzcGFuLmlubmVySFRNTC50cmltKCkgIT09IFwiXCI7XG4gICAgICBjb25zdCBpc05vdEFuZENoYXJhY3RlciA9IHNwYW4udGV4dENvbnRlbnQgIT09IFwiJlwiO1xuICAgICAgY29uc3QgaXNOb3REYXNoQ2hhcmFjdGVyID0gc3Bhbi50ZXh0Q29udGVudCAhPT0gXCItXCI7XG5cbiAgICAgIGlmIChcbiAgICAgICAgaXNTaW5nbGVMZXR0ZXIgJiZcbiAgICAgICAgaXNOb3RFbXB0eSAmJlxuICAgICAgICBpc05vdEFuZENoYXJhY3RlciAmJlxuICAgICAgICBpc05vdERhc2hDaGFyYWN0ZXJcbiAgICAgICkge1xuICAgICAgICBzcGFuLmlubmVySFRNTCA9IGAke3NwYW4udGV4dENvbnRlbnR9Jm5ic3A7YDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzcGFucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZShzcGFucykge1xuICBpZiAoIXNwYW5zLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBsaW5lcyA9IFtdO1xuICBsZXQgd29yZHMgPSBbXTtcblxuICBsZXQgcG9zaXRpb24gPSBzcGFuc1swXS5vZmZzZXRUb3A7XG5cbiAgZWFjaChzcGFucywgKHNwYW4sIGluZGV4KSA9PiB7XG4gICAgaWYgKHNwYW4ub2Zmc2V0VG9wID09PSBwb3NpdGlvbikge1xuICAgICAgd29yZHMucHVzaChzcGFuKTtcbiAgICB9XG5cbiAgICBpZiAoc3Bhbi5vZmZzZXRUb3AgIT09IHBvc2l0aW9uKSB7XG4gICAgICBsaW5lcy5wdXNoKHdvcmRzKTtcblxuICAgICAgd29yZHMgPSBbXTtcbiAgICAgIHdvcmRzLnB1c2goc3Bhbik7XG5cbiAgICAgIHBvc2l0aW9uID0gc3Bhbi5vZmZzZXRUb3A7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4ICsgMSA9PT0gc3BhbnMubGVuZ3RoKSB7XG4gICAgICBsaW5lcy5wdXNoKHdvcmRzKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBsaW5lcztcbn1cblxuZnVuY3Rpb24gc3BsaXRUZXh0KHRleHQsIGV4cHJlc3Npb24pIHtcbiAgY29uc3Qgc3BsaXRzID0gdGV4dC5zcGxpdChcIjxicj5cIik7XG5cbiAgbGV0IHdvcmRzID0gW107XG5cbiAgZWFjaChzcGxpdHMsIChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgIHdvcmRzLnB1c2goXCI8YnI+XCIpO1xuICAgIH1cblxuICAgIHdvcmRzID0gd29yZHMuY29uY2F0KGl0ZW0uc3BsaXQoZXhwcmVzc2lvbikpO1xuXG4gICAgbGV0IGlzTGluayA9IGZhbHNlO1xuICAgIGxldCBsaW5rID0gXCJcIjtcblxuICAgIGNvbnN0IGlubmVySFRNTCA9IFtdO1xuXG4gICAgZWFjaCh3b3JkcywgKHdvcmQpID0+IHtcbiAgICAgIGlmICghaXNMaW5rICYmICh3b3JkLmluY2x1ZGVzKFwiPGFcIikgfHwgd29yZC5pbmNsdWRlcyhcIjxzdHJvbmdcIikpKSB7XG4gICAgICAgIGxpbmsgPSBcIlwiO1xuXG4gICAgICAgIGlzTGluayA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0xpbmspIHtcbiAgICAgICAgbGluayArPSBgICR7d29yZH1gO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNMaW5rICYmICh3b3JkLmluY2x1ZGVzKFwiL2E+XCIpIHx8IHdvcmQuaW5jbHVkZXMoXCIvc3Ryb25nPlwiKSkpIHtcbiAgICAgICAgaW5uZXJIVE1MLnB1c2gobGluayk7XG5cbiAgICAgICAgbGluayA9IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNMaW5rICYmIGxpbmsgPT09IFwiXCIpIHtcbiAgICAgICAgaW5uZXJIVE1MLnB1c2god29yZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0xpbmsgJiYgKHdvcmQuaW5jbHVkZXMoXCIvYT5cIikgfHwgd29yZC5pbmNsdWRlcyhcIi9zdHJvbmc+XCIpKSkge1xuICAgICAgICBpc0xpbmsgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHdvcmRzID0gaW5uZXJIVE1MO1xuICB9KTtcblxuICByZXR1cm4gd29yZHM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTGluZShsaW5lKSB7XG4gIGxpbmUgPSBsaW5lLnRyaW0oKTtcblxuICBpZiAobGluZSA9PT0gXCJcIiB8fCBsaW5lID09PSBcIiBcIikge1xuICAgIHJldHVybiBsaW5lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaW5lID09PSBcIjxicj5cIlxuICAgICAgPyBcIjxicj5cIlxuICAgICAgOiBgPHNwYW4+JHtsaW5lfTwvc3Bhbj5gICsgKGxpbmUubGVuZ3RoID4gMSA/IFwiIFwiIDogXCJcIik7XG4gIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjljNjc3MDMwMGRmMTIzZjU2ZTBkXCIpIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImVsZW1lbnRzIiwic3VwZXIiLCJ0aGlzIiwic2VsZWN0b3IiLCJzZWxlY3RvckNoaWxkcmVuIiwiY3JlYXRlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlYWNoIiwiZW50cnkiLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiUHJlbG9hZGVyIiwidGl0bGUiLCJudW1iZXIiLCJpbWFnZXMiLCJ0aXRsZVNwYW5zIiwic3BsaXQiLCJleHByZXNzaW9uIiwiY3JlYXRlTG9hZGVyIiwib25sb2FkIiwiXyIsIm9uQXNzZXRMb2FkZWQiLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJpbWFnZSIsInBlcmNlbnQiLCJpbm5lckhUTUwiLCJNYXRoIiwicm91bmQiLCJvbkxvYWRlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0ZU91dCIsIkdTQVAiLCJkZWxheSIsInRvIiwiYXV0b0FscGhhIiwic3RhZ2dlciIsInkiLCJjYWxsIiwiZW1pdCIsImRlc3Ryb3kiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmQiLCJ3b3JkcyIsInRleHQiLCJzcGxpdHMiLCJpdGVtIiwiaW5kZXgiLCJwdXNoIiwiY29uY2F0IiwiaXNMaW5rIiwibGluayIsIndvcmQiLCJpbmNsdWRlcyIsInNwbGl0VGV4dCIsInRvU3RyaW5nIiwidHJpbSIsImxpbmUiLCJpbmRleE9mIiwibGluZXMiLCJwYXJzZUxpbmUiLCJzcGFucyIsInNwYW4iLCJpc1NpbmdsZUxldHRlciIsInRleHRDb250ZW50IiwiaXNOb3RFbXB0eSIsImlzTm90QW5kQ2hhcmFjdGVyIiwiaXNOb3REYXNoQ2hhcmFjdGVyIiwiY2FsY3VsYXRlIiwicG9zaXRpb24iLCJvZmZzZXRUb3AiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=