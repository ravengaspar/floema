/*! For license information please see main.461cea267cf87ece3062.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateimmersive_website("main",{"./app/components/Canvas/About/Gallery.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/gsap/index.js"),r=s("./node_modules/lodash/map.js"),o=s("./app/components/Canvas/About/Media.js");class a{constructor({element:t,geometry:e,index:s,gl:h,scene:r,sizes:o}){this.element=t,this.elementWrapper=t.querySelector(".about__gallery__wrapper"),this.geometry=e,this.index=s,this.gl=h,this.scene=r,this.sizes=o,this.group=new i.Transform,this.scroll={current:0,start:0,target:0,lerp:.1,velocity:.5},this.createMedias(),this.onResize({sizes:this.sizes}),this.group.setParent(this.scene)}createMedias(){this.mediasElements=this.element.querySelectorAll(".about__gallery__media"),this.medias=r(this.mediasElements,((t,e)=>new o.default({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){r(this.medias,(t=>t.show()))}hide(){r(this.medias,(t=>t.hide()))}onResize(t){this.bounds=this.elementWrapper.getBoundingClientRect(),this.sizes=t.sizes,this.width=this.bounds.width/window.innerWidth*this.sizes.width,this.scroll.current=this.scroll.target=0,r(this.medias,(e=>e.onResize(t,this.scroll.current)))}onTouchDown({x:t,y:e}){this.scroll.start=this.scroll.current}onTouchMove({x:t,y:e}){const s=t.start-t.end;this.scroll.target=this.scroll.start-s}onTouchUp({x:t,y:e}){}update(t){if(!this.bounds)return;t.current,t.target;const e=t.current/window.innerHeight;this.scroll.current<this.scroll.target?(this.direction="right",this.scroll.velocity=-1):this.scroll.current>this.scroll.target&&(this.direction="left",this.scroll.velocity=1),this.scroll.target-=this.scroll.velocity,this.scroll.current=h.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),r(this.medias,((t,e)=>{const s=t.mesh.scale.x/2+.25;if(" left"===this.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra+=this.width)}else if("right"===this.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra-=this.width)}t.update(this.scroll.current)})),this.group.position.y=e*this.sizes.height}destroy(){this.scene.removeChild(this.group)}}},"./app/components/Canvas/About/Media.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var i=s("./node_modules/ogl/src/core/Texture.js"),h=s("./node_modules/ogl/src/core/Program.js"),r=s("./node_modules/ogl/src/core/Mesh.js"),o=s("./node_modules/gsap/index.js"),a=s("./app/shaders/plane-fragment.glsl"),n=s("./app/shaders/plane-vertex.glsl");const l=class{constructor({element:t,geometry:e,gl:s,index:i,scene:h,sizes:r}){this.element=t,this.geometry=e,this.gl=s,this.scene=h,this.index=i,this.sizes=r,this.extra={x:0,y:0},this.createTexture(),this.createProgram(),this.createMesh()}createTexture(){this.texture=new i.Texture(this.gl);const t=this.element.querySelector("img");this.image=new window.Image,this.image.crossOrigin="anonymous",this.image.src=t.getAttribute("data-src"),this.image.onload=t=>this.texture.image=this.image}createProgram(){this.program=new h.Program(this.gl,{fragment:a.default,vertex:n.default,uniforms:{uAlpha:{value:0},tMap:{value:this.texture}}})}createMesh(){this.mesh=new r.Mesh(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene)}createBounds({sizes:t}){this.sizes=t,this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY()}show(){o.default.fromTo(this.program.uniforms.uAlpha,{value:0},{value:1})}hide(){o.default.to(this.program.uniforms.uAlpha,{value:0})}onResize(t,e){this.extra=0,this.createBounds(t),this.updateX(e),this.updateY(0)}updateRotation(){const t=this.mesh.rotation.z=o.default.utils.mapRange(-this.sizes.width/2,this.sizes.width/2,.1*Math.PI,.1*-Math.PI,this.mesh.position.x);this.mesh.rotation.z=t}updateScale(){this.width=this.bounds.width/window.innerWidth,this.height=this.bounds.height/window.innerHeight,this.mesh.scale.x=this.sizes.width*this.width,this.mesh.scale.y=this.sizes.height*this.height}updateX(t=0){this.x=(this.bounds.left+t)/window.innerWidth,this.mesh.position.x=-this.sizes.width/2+this.mesh.scale.x/2+this.x*this.sizes.width+this.extra}updateY(t=0){this.y=(this.bounds.top+t)/window.innerHeight,this.mesh.position.y=this.sizes.height/2-this.mesh.scale.y/2-this.y*this.sizes.height,this.mesh.position.y+=40*Math.cos(this.mesh.position.x/this.sizes.width*Math.PI*.1)-40}update(t){this.bounds&&(this.updateRotation(),this.updateScale(),this.updateX(t),this.updateY(0))}}}},(function(t){t.h=()=>"2656e39aa8c60d82f05e"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2ltbWVyc2l2ZS13ZWJzaXRlLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0Fib3V0L0dhbGxlcnkuanMiLCJ3ZWJwYWNrOi8vaW1tZXJzaXZlLXdlYnNpdGUvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvQWJvdXQvTWVkaWEuanMiLCJ3ZWJwYWNrOi8vaW1tZXJzaXZlLXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gJ29nbCdcblxuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcblxuaW1wb3J0IG1hcCBmcm9tICdsb2Rhc2gvbWFwJ1xuXG5pbXBvcnQgTWVkaWEgZnJvbSAnLi9NZWRpYSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FsbGVyeSB7XG5cdGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZ2VvbWV0cnksIGluZGV4LCBnbCwgc2NlbmUsIHNpemVzIH0pIHtcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG5cdFx0dGhpcy5lbGVtZW50V3JhcHBlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0X19nYWxsZXJ5X193cmFwcGVyJylcblxuXHRcdHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeVxuXHRcdHRoaXMuaW5kZXggPSBpbmRleFxuXHRcdHRoaXMuZ2wgPSBnbFxuXHRcdHRoaXMuc2NlbmUgPSBzY2VuZVxuXHRcdHRoaXMuc2l6ZXMgPSBzaXplc1xuXG5cdFx0dGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKVxuXG5cdFx0dGhpcy5zY3JvbGwgPSB7XG5cdFx0XHRjdXJyZW50OiAwLFxuXHRcdFx0c3RhcnQ6IDAsXG5cdFx0XHR0YXJnZXQ6IDAsXG5cdFx0XHRsZXJwOiAwLjEsXG5cdFx0XHR2ZWxvY2l0eTogMC41LFxuXHRcdH1cblxuXHRcdHRoaXMuY3JlYXRlTWVkaWFzKClcblxuXHRcdHRoaXMub25SZXNpemUoeyBzaXplczogdGhpcy5zaXplcyB9KVxuXG5cdFx0dGhpcy5ncm91cC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcblx0fVxuXG5cdGNyZWF0ZU1lZGlhcygpIHtcblx0XHR0aGlzLm1lZGlhc0VsZW1lbnRzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hYm91dF9fZ2FsbGVyeV9fbWVkaWEnKVxuXG5cdFx0dGhpcy5tZWRpYXMgPSBtYXAodGhpcy5tZWRpYXNFbGVtZW50cywgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IE1lZGlhKHtcblx0XHRcdFx0ZWxlbWVudCxcblx0XHRcdFx0Z2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXG5cdFx0XHRcdGluZGV4LFxuXHRcdFx0XHRnbDogdGhpcy5nbCxcblx0XHRcdFx0c2NlbmU6IHRoaXMuZ3JvdXAsXG5cdFx0XHRcdHNpemVzOiB0aGlzLnNpemVzLFxuXHRcdFx0fSlcblx0XHR9KVxuXHR9XG5cblx0LyogQW5pbWF0aW9ucyAqL1xuXHRzaG93KCkge1xuXHRcdG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxuXHR9XG5cdGhpZGUoKSB7XG5cdFx0bWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5oaWRlKCkpXG5cdH1cblxuXHQvKiBFdmVudHMgKi9cblxuXHRvblJlc2l6ZShldmVudCkge1xuXHRcdHRoaXMuYm91bmRzID0gdGhpcy5lbGVtZW50V3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG5cdFx0dGhpcy5zaXplcyA9IGV2ZW50LnNpemVzXG5cblx0XHR0aGlzLndpZHRoID0gKHRoaXMuYm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGgpICogdGhpcy5zaXplcy53aWR0aFxuXG5cdFx0dGhpcy5zY3JvbGwuY3VycmVudCA9IHRoaXMuc2Nyb2xsLnRhcmdldCA9IDBcblxuXHRcdG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsLmN1cnJlbnQpKVxuXHR9XG5cblx0b25Ub3VjaERvd24oeyB4LCB5IH0pIHtcblx0XHR0aGlzLnNjcm9sbC5zdGFydCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnRcblx0fVxuXG5cdG9uVG91Y2hNb3ZlKHsgeCwgeSB9KSB7XG5cdFx0Y29uc3QgZGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmRcblxuXHRcdHRoaXMuc2Nyb2xsLnRhcmdldCA9IHRoaXMuc2Nyb2xsLnN0YXJ0IC0gZGlzdGFuY2Vcblx0fVxuXG5cdG9uVG91Y2hVcCh7IHgsIHkgfSkge31cblxuXHQvKiBVcGRhdGUgKi9cblxuXHR1cGRhdGUoc2Nyb2xsKSB7XG5cdFx0aWYgKCF0aGlzLmJvdW5kcykgcmV0dXJuXG5cblx0XHRjb25zdCBkaXN0YW5jZSA9IHNjcm9sbC5jdXJyZW50IC0gc2Nyb2xsLnRhcmdldFxuXHRcdGNvbnN0IHkgPSBzY3JvbGwuY3VycmVudCAvIHdpbmRvdy5pbm5lckhlaWdodFxuXG5cdFx0aWYgKHRoaXMuc2Nyb2xsLmN1cnJlbnQgPCB0aGlzLnNjcm9sbC50YXJnZXQpIHtcblx0XHRcdHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0J1xuXHRcdFx0dGhpcy5zY3JvbGwudmVsb2NpdHkgPSAtMVxuXHRcdH0gZWxzZSBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA+IHRoaXMuc2Nyb2xsLnRhcmdldCkge1xuXHRcdFx0dGhpcy5kaXJlY3Rpb24gPSAnbGVmdCdcblx0XHRcdHRoaXMuc2Nyb2xsLnZlbG9jaXR5ID0gMVxuXHRcdH1cblxuXHRcdHRoaXMuc2Nyb2xsLnRhcmdldCAtPSB0aGlzLnNjcm9sbC52ZWxvY2l0eVxuXG5cdFx0dGhpcy5zY3JvbGwuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUoXG5cdFx0XHR0aGlzLnNjcm9sbC5jdXJyZW50LFxuXHRcdFx0dGhpcy5zY3JvbGwudGFyZ2V0LFxuXHRcdFx0dGhpcy5zY3JvbGwubGVycFxuXHRcdClcblxuXHRcdG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3Qgc2NhbGVYID0gbWVkaWEubWVzaC5zY2FsZS54IC8gMiArIDAuMjVcblxuXHRcdFx0aWYgKHRoaXMuZGlyZWN0aW9uID09PSAnIGxlZnQnKSB7XG5cdFx0XHRcdGNvbnN0IHggPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnggKyBzY2FsZVhcblxuXHRcdFx0XHRpZiAoeCA8IC10aGlzLnNpemVzLndpZHRoIC8gMikge1xuXHRcdFx0XHRcdG1lZGlhLmV4dHJhICs9IHRoaXMud2lkdGhcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuXHRcdFx0XHRjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54IC0gc2NhbGVYXG5cblx0XHRcdFx0aWYgKHggPiB0aGlzLnNpemVzLndpZHRoIC8gMikge1xuXHRcdFx0XHRcdG1lZGlhLmV4dHJhIC09IHRoaXMud2lkdGhcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwuY3VycmVudClcblx0XHR9KVxuXG5cdFx0dGhpcy5ncm91cC5wb3NpdGlvbi55ID0geSAqIHRoaXMuc2l6ZXMuaGVpZ2h0XG5cdH1cblxuXHQvKiBEZXN0cm95ICovXG5cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApXG5cdH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUsIFByb2dyYW0sIE1lc2ggfSBmcm9tICdvZ2wnXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xuXG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnc2hhZGVycy9wbGFuZS1mcmFnbWVudC5nbHNsJ1xuaW1wb3J0IHZlcnRleCBmcm9tICdzaGFkZXJzL3BsYW5lLXZlcnRleC5nbHNsJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG5cdGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZ2VvbWV0cnksIGdsLCBpbmRleCwgc2NlbmUsIHNpemVzIH0pIHtcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG5cdFx0dGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5XG5cdFx0dGhpcy5nbCA9IGdsXG5cdFx0dGhpcy5zY2VuZSA9IHNjZW5lXG5cdFx0dGhpcy5pbmRleCA9IGluZGV4XG5cdFx0dGhpcy5zaXplcyA9IHNpemVzXG5cblx0XHR0aGlzLmV4dHJhID0ge1xuXHRcdFx0eDogMCxcblx0XHRcdHk6IDAsXG5cdFx0fVxuXG5cdFx0dGhpcy5jcmVhdGVUZXh0dXJlKClcblx0XHR0aGlzLmNyZWF0ZVByb2dyYW0oKVxuXHRcdHRoaXMuY3JlYXRlTWVzaCgpXG5cdH1cblxuXHRjcmVhdGVUZXh0dXJlKCkge1xuXHRcdHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZ2wpXG5cblx0XHRjb25zdCBpbWFnZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbWcnKVxuXG5cdFx0dGhpcy5pbWFnZSA9IG5ldyB3aW5kb3cuSW1hZ2UoKVxuXHRcdHRoaXMuaW1hZ2UuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJ1xuXHRcdHRoaXMuaW1hZ2Uuc3JjID0gaW1hZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpXG5cdFx0dGhpcy5pbWFnZS5vbmxvYWQgPSBfID0+ICh0aGlzLnRleHR1cmUuaW1hZ2UgPSB0aGlzLmltYWdlKVxuXHR9XG5cblx0Y3JlYXRlUHJvZ3JhbSgpIHtcblx0XHR0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzLmdsLCB7XG5cdFx0XHRmcmFnbWVudCxcblx0XHRcdHZlcnRleCxcblx0XHRcdHVuaWZvcm1zOiB7XG5cdFx0XHRcdHVBbHBoYTogeyB2YWx1ZTogMCB9LFxuXHRcdFx0XHR0TWFwOiB7IHZhbHVlOiB0aGlzLnRleHR1cmUgfSxcblx0XHRcdH0sXG5cdFx0fSlcblx0fVxuXG5cdGNyZWF0ZU1lc2goKSB7XG5cdFx0dGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5nbCwge1xuXHRcdFx0Z2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXG5cdFx0XHRwcm9ncmFtOiB0aGlzLnByb2dyYW0sXG5cdFx0fSlcblxuXHRcdHRoaXMubWVzaC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcblx0fVxuXG5cdGNyZWF0ZUJvdW5kcyh7IHNpemVzIH0pIHtcblx0XHR0aGlzLnNpemVzID0gc2l6ZXNcblxuXHRcdHRoaXMuYm91bmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cblx0XHR0aGlzLnVwZGF0ZVNjYWxlKClcblx0XHR0aGlzLnVwZGF0ZVgoKVxuXHRcdHRoaXMudXBkYXRlWSgpXG5cdH1cblxuXHQvKiBBbmltYXRpb25zICovXG5cblx0c2hvdygpIHtcblx0XHRHU0FQLmZyb21Ubyhcblx0XHRcdHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51QWxwaGEsXG5cdFx0XHR7XG5cdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dmFsdWU6IDEsXG5cdFx0XHR9XG5cdFx0KVxuXHR9XG5cdGhpZGUoKSB7XG5cdFx0R1NBUC50byh0aGlzLnByb2dyYW0udW5pZm9ybXMudUFscGhhLCB7XG5cdFx0XHR2YWx1ZTogMCxcblx0XHR9KVxuXHR9XG5cblx0LyogRXZlbnRzICovXG5cdG9uUmVzaXplKHNpemVzLCBzY3JvbGwpIHtcblx0XHR0aGlzLmV4dHJhID0gMFxuXG5cdFx0dGhpcy5jcmVhdGVCb3VuZHMoc2l6ZXMpXG5cdFx0dGhpcy51cGRhdGVYKHNjcm9sbClcblx0XHR0aGlzLnVwZGF0ZVkoMClcblx0fVxuXG5cdC8qIExvb3AgKi9cblxuXHR1cGRhdGVSb3RhdGlvbigpIHtcblx0XHRjb25zdCByb3RhdGlvbiA9ICh0aGlzLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMubWFwUmFuZ2UoXG5cdFx0XHQtdGhpcy5zaXplcy53aWR0aCAvIDIsXG5cdFx0XHR0aGlzLnNpemVzLndpZHRoIC8gMixcblx0XHRcdE1hdGguUEkgKiAwLjEsXG5cdFx0XHQtTWF0aC5QSSAqIDAuMSxcblx0XHRcdHRoaXMubWVzaC5wb3NpdGlvbi54XG5cdFx0KSlcblxuXHRcdHRoaXMubWVzaC5yb3RhdGlvbi56ID0gcm90YXRpb25cblx0fVxuXG5cdHVwZGF0ZVNjYWxlKCkge1xuXHRcdHRoaXMud2lkdGggPSB0aGlzLmJvdW5kcy53aWR0aCAvIHdpbmRvdy5pbm5lcldpZHRoXG5cdFx0dGhpcy5oZWlnaHQgPSB0aGlzLmJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHRcblxuXHRcdHRoaXMubWVzaC5zY2FsZS54ID0gdGhpcy5zaXplcy53aWR0aCAqIHRoaXMud2lkdGhcblx0XHR0aGlzLm1lc2guc2NhbGUueSA9IHRoaXMuc2l6ZXMuaGVpZ2h0ICogdGhpcy5oZWlnaHRcblx0fVxuXHR1cGRhdGVYKHggPSAwKSB7XG5cdFx0dGhpcy54ID0gKHRoaXMuYm91bmRzLmxlZnQgKyB4KSAvIHdpbmRvdy5pbm5lcldpZHRoXG5cblx0XHR0aGlzLm1lc2gucG9zaXRpb24ueCA9XG5cdFx0XHQtdGhpcy5zaXplcy53aWR0aCAvIDIgKyB0aGlzLm1lc2guc2NhbGUueCAvIDIgKyB0aGlzLnggKiB0aGlzLnNpemVzLndpZHRoICsgdGhpcy5leHRyYVxuXHR9XG5cdHVwZGF0ZVkoeSA9IDApIHtcblx0XHR0aGlzLnkgPSAodGhpcy5ib3VuZHMudG9wICsgeSkgLyB3aW5kb3cuaW5uZXJIZWlnaHRcblxuXHRcdHRoaXMubWVzaC5wb3NpdGlvbi55ID1cblx0XHRcdHRoaXMuc2l6ZXMuaGVpZ2h0IC8gMiAtIHRoaXMubWVzaC5zY2FsZS55IC8gMiAtIHRoaXMueSAqIHRoaXMuc2l6ZXMuaGVpZ2h0XG5cblx0XHR0aGlzLm1lc2gucG9zaXRpb24ueSArPVxuXHRcdFx0TWF0aC5jb3MoKHRoaXMubWVzaC5wb3NpdGlvbi54IC8gdGhpcy5zaXplcy53aWR0aCkgKiBNYXRoLlBJICogMC4xKSAqIDQwIC0gNDBcblx0fVxuXG5cdHVwZGF0ZShzY3JvbGwpIHtcblx0XHRpZiAoIXRoaXMuYm91bmRzKSByZXR1cm5cblxuXHRcdHRoaXMudXBkYXRlUm90YXRpb24oKVxuXG5cdFx0dGhpcy51cGRhdGVTY2FsZSgpXG5cdFx0dGhpcy51cGRhdGVYKHNjcm9sbClcblx0XHR0aGlzLnVwZGF0ZVkoMClcblx0fVxufVxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiMjY1NmUzOWFhOGM2MGQ4MmYwNWVcIikiXSwibmFtZXMiOlsiR2FsbGVyeSIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImdlb21ldHJ5IiwiaW5kZXgiLCJnbCIsInNjZW5lIiwic2l6ZXMiLCJ0aGlzIiwiZWxlbWVudFdyYXBwZXIiLCJxdWVyeVNlbGVjdG9yIiwiZ3JvdXAiLCJUcmFuc2Zvcm0iLCJzY3JvbGwiLCJjdXJyZW50Iiwic3RhcnQiLCJ0YXJnZXQiLCJsZXJwIiwidmVsb2NpdHkiLCJjcmVhdGVNZWRpYXMiLCJvblJlc2l6ZSIsInNldFBhcmVudCIsIm1lZGlhc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm1lZGlhcyIsIm1hcCIsIk1lZGlhIiwic2hvdyIsIm1lZGlhIiwiaGlkZSIsImV2ZW50IiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwib25Ub3VjaERvd24iLCJ4IiwieSIsIm9uVG91Y2hNb3ZlIiwiZGlzdGFuY2UiLCJlbmQiLCJvblRvdWNoVXAiLCJ1cGRhdGUiLCJpbm5lckhlaWdodCIsImRpcmVjdGlvbiIsIkdTQVAiLCJzY2FsZVgiLCJtZXNoIiwic2NhbGUiLCJwb3NpdGlvbiIsImV4dHJhIiwiaGVpZ2h0IiwiZGVzdHJveSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlVGV4dHVyZSIsImNyZWF0ZVByb2dyYW0iLCJjcmVhdGVNZXNoIiwidGV4dHVyZSIsIlRleHR1cmUiLCJpbWFnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJvbmxvYWQiLCJfIiwicHJvZ3JhbSIsIlByb2dyYW0iLCJmcmFnbWVudCIsInZlcnRleCIsInVuaWZvcm1zIiwidUFscGhhIiwidmFsdWUiLCJ0TWFwIiwiTWVzaCIsImNyZWF0ZUJvdW5kcyIsInVwZGF0ZVNjYWxlIiwidXBkYXRlWCIsInVwZGF0ZVkiLCJ1cGRhdGVSb3RhdGlvbiIsInJvdGF0aW9uIiwieiIsIk1hdGgiLCJQSSIsImxlZnQiLCJ0b3AiLCJjb3MiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=